<!DOCTYPE html>
<html>
<head>

<script>

function Registrant(first, last, phone, birth) {
	this.firstName = first;
	this.lastName = last;
	this.homePhone = phone;
	this.dob = birth;
	this.dor = new Date();
	
	for (var prop in first) this[prop] = first[prop];
	
	this.getFullName = getFullName;
	function getFullName() {
		var fullName = this.firstName + ' ' + this.lastName;
		return fullName;
	}

}

register = function() {

	firstName = document.getElementById('fn').value;
	lastName = document.getElementById('ln').value;
	phoneNumber = document.getElementById('phone').value;
	dob = document.getElementById('dob').value;
	
	var registrant = new Registrant(firstName, lastName, phoneNumber, dob);
	
	jsonString = '{"firstName":"Cam","lastName":"Mc","homePhone":"905-555-1212","dob":"November 1, 1975","dor":"2014-03-09T01:09:32.845Z"}';
	var registrantJson = new Registrant(JSON.parse(jsonString));
	//what would happen if we just did var registrantJson = JSON.parse(jsonString); instead? Try it!
	alert(JSON.stringify(registrantJson.firstName));
	
	document.getElementById('welcome').innerHTML = 'You have successfully registered, ' + registrantJson.getFullName() + '.';
	document.getElementById('firstname').innerHTML = 'First name: ' + registrantJson.firstName;
	document.getElementById('lastname').innerHTML = 'Last name: ' + registrantJson.lastName;
	document.getElementById('homephone').innerHTML =  'Phone number: ' + registrantJson.homePhone;
	document.getElementById('birthdate').innerHTML =  'Date of birth: ' + registrantJson.dob;
	document.getElementById('registerdate').innerHTML = 'Registration date: ' + registrantJson.dor + '<hr/>';
	document.getElementById('birthdate').innerHTML =  'JSON String: ' + JSON.stringify(registrant);
	
	

}

validate = function() {
	var element = document.getElementById('registrantdata');
	var inputs = element.getElementsByTagName('input');
	for (var i=0; i<inputs.length; i++) {
		if (inputs[i].value.length<1){
				alert('Blank fields are not allowed!');
				return;
		}
	}
	register();
}


</script>
</head>
JSON.stringify(registrant)<body>

Please enter the following information: <br/>
<div id="registrantdata">
First name:		<input id="fn" type="text" name="firstname"/><br/>
Last name:		<input id="ln" type="text" name="lastname"/><br/>
Phone number:	<input id="phone" type="text" name="phone"/><br/>
Date of birth: 	<input id="dob" type="text" name="dob"/><br/>
<a href="#" onclick="validate()">Submit</a>
</div>

<hr/>
<div id="welcome"></div><br/>
<div id="firstname"></div>
<div id="lastname"></div>
<div id="homephone"></div>
<div id="birthdate"></div><br/>
<div id="registerdate"></div>

<br/>
<div id="json"></div>



</body>
</html>